## Вариант задания ##
| № варианта | Разрядность шин | Память       | Тип адресации      | Команда условного перехода | РОН | КЭШ    | Алгоритм замещения строк  | Синхронизация с памятью | АЛУ                 | Арбитраж шин                               | Стек                | Схема предск. переходов   | КПДП | Конвейер |
| ---------- | ----------------| ------------ | -------------------| -------------------------- | ----- | ------ | ------------------------- | ----------------------- | ------------------- | ------------------------------------------ | ------------------- | ------------------------- | ---- | --------------- |
| 15         | Адреса - 10     | ПЗУ - синхр. | Прямая регистровая | JNS                        | 16  | k = 2  | Наименьшего использования | Флаговая отложенная     | CMP, AND, NAND, SRA | Централизованный последовательный | Объем - 13          | Тип автомата - А3         | КПДП | Конвейер |
|            | Данных - 7      | ОЗУ - синхр. |                    |                            |       |        |                           |                         |                     |                                            | Напр. роста - вверх | Тип шаблона - PC, бит - 5 |      |                 |

## Минимальные требования
**Реализовать 16 команд**
   - *2 шт. команды MOV adr, reg; MOV reg, adr; - прямая адресация*
   - *1 шт. команды MOV adr, reg; MOV reg, adr; - адресация по варианту*
   - *8 шт. команды АЛУ - прямая регистровая (прямая) адресация и адресация по варианту.*

     *Для прямой адресации по варианту делать (КОП, РЕГ1, РЕГ2) и (КОП, РЕГ1, АДР или КОП, РЕГ1, РЕГ2, РЕГ3)*
   - *2 шт. команда PUSH reg; POP reg; - прямая регистровая адресация*
   - *1 шт. команда безусловного перехода (JMP) - непосредственная или относительная адресация на выбор студента*
   - *1 шт. команда условного перехода согласно варианту - непосредственная или относительная адресация на выбор студента*
   - *1 шт. Обязательна реализация команды HLT*

## Курсовой проект к защите не принимается, если в записке отсутствует:
1. Задание согласно варианту
2. Разработка системы команд
3. Тестовая программа, используемая при моделировании всей схемы (в символьном, бинарном и шестнадцатеричном виде)
4. Моделирование всей схемы
5. Графический материал: структурная и функциональные схемы по ГОСТу
6. Диск с курсовым проектом или QR-код, содержащий ссылку на проект в архиве
7. Подпись студента на чертежах и дата
8. Записка и чертежи оформлены не по ГОСТу

## Курсовой проект будет оцениваться по 10-бальной системе исходя из следующих критериев:
1. Отсустствие в ПЗ функционального блока или несоответствие блока выданному варианту - **-1 балл за каждый блок**
2. Плагиат блоков - **-1 балл за блок**
3. Логическая нестыковка разработанных модулей между собой (несоотвествие по функционалу, сигналам) - **-1 балл**
4. Отсутствие дампов памяти при моделировании работы ОЗУ, ПЗУ, кэш-памяти - **-1 балл**
5. Небрежное оформление ПЗ (наличие орфографических, грамматических, синтаксических, стилистических ошибок (более 5 шт. на ПЗ))

### Дополнительные баллы будут начисляться за нижеследующее:
1. Курсовые проекты, сданные на проверку до *22 апреля текущщего года (включительно)* - **+1 балл**
2. Доработана АСК и реализована программа сортировки массива различной длины - **+1 балл**
3. Подробное описание устройства управления, формул логических сигналов
4. Грамотное обоснование того или иного схемотехнического решения
5. Оптимизация работы всей системы в целом, с примерами моделирования до оптимизации и после неё

### Ответы на частозадаваемые вопросы:
1. При реализации конвейера разрешается команды АЛУ делать с одним типом адресации на выбор студента
2. В Принстонской архитектуре память ROM и RAM объединяется в одно адресное пространство, что позволяет использовать 1 кэш для данных и команд
3. Синхронность и асинхронность вывода памяти реализуется наличием/отсутствием входа OutClock
4. В базовой адресации со смещением база может быть задана явно или неявно (на выбор студента)
5. Смещение должно быть не меньше половины ША
6. РОН размещаются в ЦП, а не как в 4-й л.р.
7. Кол-во строк в одном банке и слов в кэш-линии не меньше 4
8. Тип данных (знаковые или беззнаковые) на выбор студента, если не определен вариантом условного перехода
9. В случаях, когда нужно хранить адрес в регистрах и ША > ШД, можно объединить несколько регистров в 1 большой (AX : AH и AL)
10. Описание стекового устройства приведено в л.р. №6 (можно найти в методичке)
11. КПДП должен работать с различными адресами и объемом данных
12. Запрос КПДП идет от периферии (реализуется вручную либо схемой как в 5 л.р.)
13. Блоки, показанные на консультациях считаются разработанными и полностью не проверяются при защите
14. Возможна реализация некоторых блоков на VHDL, verilog - согласовывать с преподавателем

## Кэш-память:
Реализацию кэш-памяти можно разбить на 2 части (стоимость каждой - 1 балл):
1. Обычный кэш (не k-мерный)
2. k-мерный кэш согласно варианту

## Конвейер:
Реализацию конвейера можно разбить на 2 части (стоимость каждой - 1 балл):
1. Разрешение конфликтов по управлению
2. Дополнительное разрешение конфиликтов по данным
При реализации только 1 части необходимо предусмотреть в коде отсутствие конфликтов по данным.

При реализации полного конвейера предусмотреть в коде наличие конфликтов по данным и показать их решение.

Предсказатель переходов входит в реализацию конвейера.

## КПДП:
Реализация арбитража входит в КПДП

## Расшифровка условных переходов:
| Команда | Расшифровка        | Описание        |
| ------- | ------------------ | --------------- |
| JAZ     | jump if abpve zero | CF = 0 и ZF = 0 |
| JBZ     | jump if below zero | CF = 1 и ZF = 0 |
| JNZ     | jump if not zero   | ZF = 0          |
| JZ      | jump if zero       | ZF = 1          |
| JNS     | jump if !Sign flag | SF = 0          |
| JS      | jump if Sign flag  | SF = 1          |

 ## Флаги:
| Флаг | Расшифровка (англ.) | Расшифровка (рус.) | Состояние    |
| ---- | ------------------- | ------------------ | ------------ |
| CF   | Carry Flag          | Флаг переноса      | Устанавливается в 1, если результат предыдущей операции не уместился в приёмнике и произошёл перенос из старшего бита или если требуется заём (при вычитании). Иначе установлен в 0.
| ZF   | Zero Flag           | Флаг нуля          | Устанавливается 1, если результат предыдущей команды равен 0.
| OF   | Overflow Flag       | Флаг переполнения  | Устанавливается в 1, если результат предыдущей арифметической операции над числами со знаком выходит за допустимые для них пределы. Например, если при сложении двух положительных чисел получается число со старшим битом, равным единице, то есть отрицательное. И наоборот.
| SF   | Sign Flag           | Флаг знака         | Этот флаг всегда равен старшему биту результата.

## Схемы:
- Рамки согласно ГОСТу
- Остальные схемы можно копировать из квартуса и вставлять в рамки
- Если схема не помещается на лист А4, то используете формат больше и т.д.
- Элементы на схеме должны быть соединены между собой(кроме случаев когда это ухудшит читаемость схемы)
- Вставлять перед чертежем лист с указанием приложения не надо(типо ПРИЛОЖЕНИЕ А и т.д.)
- Печатать на А1 тоже не стоит. Берегите бумагу

## Раздел "Функциональное моделирование":
*Вариант 1*: делаете моделирование блоков и общее моделирование.
*Вариант 2*: моделирование отдельного блока переносите в раздел "Разработка основных устройств" сразу после описания блока, а в разделе моделирования делаете только общее моделирование всей системы.

## Защита курсового:
Предварительно сдаётся отчет на проверку. После проверки студент допускается к защите в определенный для этого день.

## Сортировка:
**Дополнительное задание на +1 балл. Необязательное!!!**

Задача реализовать программу сортировки массива различной длинны.

**Входные данные:** начальный адрес данных и их количество.

Программу невозможно реализовать используя 16 базовых команд.

Для ее реализации необходимо реализовать недостающие команды(сравнение, инкрементация\декрементация, косвенное обращение к памяти)

Для некоторых вариантов добавить недостающие команды можно в любой момент времени.

Для других вариантов это нужно сделать на этапе разработки АСК

Реализация недостающих команд на выбор студента

В случае, когда заданый тип адресации подходит для сортировки, желательно использовать его в дополнительных командах, но можно выбрать другую адресацию

При реализации программы сортировки, команды JAZ и JBZ разрешается реализовать как JA/JG и JB/JL соответственно



